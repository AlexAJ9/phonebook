(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,t,n){e.exports=n(36)},36:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),o=n.n(r),l=n(13),u=n.n(l),c=function(e){var t=e.value,n=e.setNewFilter;return o.a.createElement("form",null," fiter shown by: ",o.a.createElement("input",{value:t,onChange:function(e){n(e.target.value)}}))},i=n(3),m=n.n(i),s="/api/persons",f=function(){return m.a.get(s).then((function(e){return e.data}))},d=function(e){return m.a.post(s,e).then((function(e){return e.data}))},p=function(e){if(window.confirm("Delete ".concat(e.name,"?")))return m.a.delete("".concat(s,"/").concat(e.id)).then((function(e){return e.data}))},b=function(e,t){if(window.confirm("Person ".concat(e.name," already exists! Update number?")))return m.a.put("".concat(s,"/").concat(e.id),t).then((function(e){return e.data}))},g=function(e){var t=e.newName,n=e.setNewName,a=e.newNumber,r=e.setNewNumber,l=e.people,u=e.setPeople,c=e.setMessage,i=e.setError;return o.a.createElement("form",{onSubmit:function(e){e.preventDefault();var r={name:t,number:a};if(l.some((function(e){return e.name===t}))){var o=l.find((function(e){return e.name===t}));console.log(o.name),b(o,r).then((function(e){u(l.map((function(t){return t.id!==o.id?t:e}))),c("Added ".concat(r.name)),setTimeout((function(){c(null)}),5e3)})).catch((function(e){i("".concat(r.name," was already deleted from the server!")),setTimeout((function(){i(null)}),5e3)}))}else d(r).then((function(e){console.log("look here",e),u(l.concat(e)),n(""),c("Added ".concat(r.name)),setTimeout((function(){c(null)}),5e3)}));console.log("Button clicked",e.target)}},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:t,onChange:function(e){console.log(e.target.value),n(e.target.value)}})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:a,onChange:function(e){console.log(e.target.value),r(e.target.value)}})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add")))},E=function(e){var t=e.people,n=e.newFilter,a=e.setPeople,r=function(e){return p(e).then(a(t.filter((function(t){return t.id!==e.id}))))};if(""===n)return console.log(n),t.map((function(e){return o.a.createElement("li",{key:e.name},e.name," ",e.number,o.a.createElement("button",{onClick:function(){return r(e)}},"delete"))}));if(t.filter((function(e){return e.name.toLowerCase().includes(n)}))){var l=t.filter((function(e){return e.name.toLowerCase().includes(n)}));return console.log(l),console.log(t),l.map((function(e){return o.a.createElement("li",{key:e.name},e.name," ",e.number," ",o.a.createElement("button",{onClick:function(){return r(e)}},"delete")," ")}))}},v={color:"Black",border:" solid 2px green",padding:"10px",fontFamily:"Arial"},h=function(e){var t=e.message;return null===t?null:o.a.createElement("div",{style:v},t)},w={color:"Black",border:" solid 2px red",padding:"10px",fontFamily:"Arial"},N=function(e){var t=e.message;return null===t?null:o.a.createElement("div",{style:w},t)},j=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],l=t[1],u=Object(r.useState)(""),i=Object(a.a)(u,2),m=i[0],s=i[1],d=Object(r.useState)(""),p=Object(a.a)(d,2),b=p[0],v=p[1],w=Object(r.useState)(""),j=Object(a.a)(w,2),k=j[0],O=j[1],y=Object(r.useState)(null),C=Object(a.a)(y,2),S=C[0],x=C[1],F=Object(r.useState)(null),P=Object(a.a)(F,2),A=P[0],B=P[1];return Object(r.useEffect)((function(){console.log("effect"),f().then((function(e){l(e)}))}),[]),o.a.createElement("div",null,o.a.createElement(h,{message:S}),o.a.createElement(N,{message:A}),o.a.createElement("h2",null,"Phonebook"),o.a.createElement(c,{value:k,setNewFilter:O}),o.a.createElement("h2",null,"Add new"),o.a.createElement(g,{newName:m,setNewName:s,newNumber:b,setNewNumber:v,people:n,setPeople:l,notificationMessage:S,setMessage:x,setError:B}),o.a.createElement("h2",null,"Numbers"),o.a.createElement(E,{newFilter:k,people:n,setPeople:l}))};u.a.render(o.a.createElement(j,null),document.getElementById("root"));t.default=j}},[[14,1,2]]]);
//# sourceMappingURL=main.44e17f55.chunk.js.map