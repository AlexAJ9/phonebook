{"version":3,"sources":["components/Filter.js","services/peopleService.js","components/Form.js","components/People.js","components/Notification.js","components/Error.js","index.js"],"names":["Filter","value","setNewFilter","onChange","e","target","baseUrl","axios","get","then","response","data","newObject","post","person","window","confirm","name","delete","id","put","Form","newName","setNewName","newNumber","setNewNumber","people","setPeople","setMessage","setError","onSubmit","preventDefault","personObject","number","some","samePerson","find","console","log","peopleService","changedPerson","map","setTimeout","catch","error","concat","type","People","newFilter","deletePerson","filter","x","key","onClick","toLowerCase","includes","filterPeople","messageStyle","color","border","padding","fontFamily","Message","message","style","errorStyle","ErrorMessage","App","useState","notificationMessage","useEffect","Notification","Error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.44e17f55.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ value, setNewFilter}) => {\r\n    const handleFilterChange = (e) => {\r\n        setNewFilter(e.target.value);\r\n    }\r\n    return <form> fiter shown by: <input value={value} onChange={handleFilterChange} /></form>\r\n}\r\nexport default Filter","import axios from \"axios\"\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n\r\n}\r\n\r\nconst create = (newObject) => {\r\n\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\nconst deletePerson = (person) => {\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n        const request = axios.delete(`${baseUrl}/${person.id}`)\r\n        return request.then(response => response.data)\r\n    }\r\n}\r\nconst updatePerson = (person, newObject) => {\r\n    if (window.confirm(`Person ${person.name} already exists! Update number?`)) {\r\n        const request = axios.put(`${baseUrl}/${person.id}`, newObject)\r\n        return request.then(response => response.data)\r\n    }\r\n\r\n}\r\nexport default { getAll, create, deletePerson, updatePerson }","import React from \"react\"\r\nimport peopleService from \"../services/peopleService\"\r\n\r\n\r\nconst Form = ({ newName, setNewName, newNumber, setNewNumber, people, setPeople, setMessage, setError }) => {\r\n    const handleNameChange = (e) => {\r\n        console.log(e.target.value);\r\n        setNewName(e.target.value);\r\n    }\r\n    const handleNumberChange = (e) => {\r\n        console.log(e.target.value);\r\n        setNewNumber(e.target.value);\r\n    }\r\n    const addNewPerson = (e) => {\r\n        e.preventDefault();\r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        if (people.some(people => people.name === newName)) {\r\n            const samePerson = people.find(person => person.name === newName)\r\n            console.log(samePerson.name)\r\n            peopleService.updatePerson(samePerson, personObject)\r\n                .then(changedPerson => {\r\n                    setPeople(people.map(person => person.id !== samePerson.id ? person : changedPerson))\r\n                    setMessage(`Added ${personObject.name}`)\r\n                    setTimeout(() => {\r\n                        setMessage(null)\r\n                    }, 5000);\r\n                })\r\n                .catch(error => {\r\n                    setError(`${personObject.name} was already deleted from the server!`)\r\n                    setTimeout(() => {\r\n                        setError(null)\r\n                    }, 5000);\r\n                })\r\n        }\r\n        else {\r\n            peopleService.create(personObject).then(response => {\r\n                console.log(\"look here\",response);\r\n                setPeople(people.concat(response))\r\n                setNewName(\"\")\r\n                setMessage(`Added ${personObject.name}`)\r\n                setTimeout(() => {\r\n                    setMessage(null)\r\n                }, 5000);\r\n            })\r\n        }\r\n        console.log(\"Button clicked\", e.target);\r\n    }\r\n    return (<form onSubmit={addNewPerson} >\r\n        <div>\r\n            name: <input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n            number: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\nexport default Form","import React from 'react'\r\nimport peopleService from \"../services/peopleService\"\r\nconst People = ({ people, newFilter, setPeople }) => {\r\n     const deletePerson = (person) => {\r\n        return peopleService.deletePerson(person).then(setPeople(people.filter(x => x.id !== person.id)));\r\n    }\r\n    if (newFilter === \"\") {\r\n        console.log(newFilter);\r\n        return people.map(person => <li key={person.name}>{person.name} {person.number}\r\n            <button onClick={() => deletePerson(person)}>delete</button></li>);\r\n    }\r\n\r\n    else if (people.filter(people => people.name.toLowerCase().includes(newFilter))) {\r\n        const filterPeople = people.filter(people => people.name.toLowerCase().includes(newFilter));\r\n        console.log(filterPeople);\r\n        console.log(people);\r\n        return filterPeople.map(\r\n            person => <li key={person.name}>{person.name} {person.number} <button onClick={\r\n                () => deletePerson(person)}>delete</button> </li>);\r\n    }\r\n\r\n   \r\n}\r\n\r\n\r\nexport default People","import React from \"react\"\r\n\r\nconst messageStyle = {\r\n    color: \"Black\",\r\n    border: \" solid 2px green\",\r\n    padding: \"10px\",\r\n    fontFamily: \"Arial\"\r\n}\r\n\r\n\r\nconst Message = ({ message }) => {\r\n    if (message === null) return null;\r\n    return (\r\n        <div style={messageStyle}>{message}</div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Message;\r\n","import React from \"react\"\r\n\r\nconst errorStyle = {\r\n    color: \"Black\",\r\n    border: \" solid 2px red\",\r\n    padding: \"10px\",\r\n    fontFamily: \"Arial\"\r\n}\r\nconst ErrorMessage = ({ message }) => {\r\n    if (message === null) return null;\r\n    return (\r\n        <div style={errorStyle}>{message}</div>\r\n    )\r\n}\r\nexport default ErrorMessage;","import React, { useState, useEffect } from 'react'\r\nimport ReactDOM from \"react-dom\"\r\nimport Filter from \"./components/Filter\"\r\nimport Form from \"./components/Form\"\r\nimport People from \"./components/People\"\r\nimport peopleService from \"./services/peopleService\"\r\nimport Notification from \"./components/Notification\"\r\nimport ErrorMessage from \"./components/Error\"\r\nconst App = () => {\r\n    const [people, setPeople] = useState([]);\r\n    const [newName, setNewName] = useState('');\r\n    const [newNumber, setNewNumber] = useState(\"\");\r\n    const [newFilter, setNewFilter] = useState(\"\");\r\n    const [notificationMessage, setMessage] = useState(null);\r\n    const [error, setError] = useState(null);\r\n\r\n    const getPeople = () => {\r\n        console.log('effect');\r\n        peopleService\r\n            .getAll().then(response => {\r\n                setPeople(response);\r\n            });\r\n    }\r\n    useEffect(getPeople, []);\r\n\r\n    return (\r\n        <div>\r\n            <Notification message={notificationMessage} />\r\n            <ErrorMessage message={error} />\r\n            <h2>Phonebook</h2>\r\n            <Filter value={newFilter} setNewFilter={setNewFilter} />\r\n            <h2>Add new</h2>\r\n            <Form newName={newName} setNewName={setNewName} newNumber={newNumber}\r\n                setNewNumber={setNewNumber} people={people} setPeople={setPeople} notificationMessage={notificationMessage}\r\n                setMessage={setMessage} setError={setError} />\r\n            <h2>Numbers</h2>\r\n            <People newFilter={newFilter} people={people} setPeople={setPeople} />\r\n        </div>\r\n    )\r\n}\r\nReactDOM.render(<App />, document.getElementById('root'))\r\nexport default App"],"sourceRoot":""}