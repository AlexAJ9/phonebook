(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,t,n){e.exports=n(36)},36:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),l=n.n(r),o=n(13),u=n.n(o),c=function(e){var t=e.value,n=e.setNewFilter;return l.a.createElement("form",null," fiter shown by: ",l.a.createElement("input",{value:t,onChange:function(e){n(e.target.value)}}))},i=n(3),s=n.n(i),m="/api/persons",f=function(){return s.a.get(m).then((function(e){return e.data}))},d=function(e){return s.a.post(m,e).then((function(e){return e.data}))},p=function(e){if(window.confirm("Delete ".concat(e.name,"?")))return s.a.delete("".concat(m,"/").concat(e.id)).then((function(e){return e.data}))},b=function(e){var t=e.newName,n=e.setNewName,a=e.newNumber,r=e.setNewNumber,o=e.people,u=e.setPeople,c=e.setMessage,i=e.setError;return l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var r={name:t,number:a};d(r).then((function(e){console.log("look here",e),u(o.concat(e)),n(""),c("Added ".concat(r.name)),setTimeout((function(){c(null)}),5e3)})).catch((function(e){console.log(e),i(JSON.stringify(e.response.data)),setTimeout((function(){i(null)}),5e3)})),console.log("Button clicked",e.target)}},l.a.createElement("div",null,"name: ",l.a.createElement("input",{value:t,onChange:function(e){console.log(e.target.value),n(e.target.value)}})),l.a.createElement("div",null,"number: ",l.a.createElement("input",{value:a,onChange:function(e){console.log(e.target.value),r(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"add")))},g=function(e){var t=e.people,n=e.newFilter,a=e.setPeople,r=function(e){return p(e).then(a(t.filter((function(t){return t.id!==e.id}))))};if(""===n)return console.log(n),t.map((function(e){return l.a.createElement("li",{key:e.name},e.name," ",e.number,l.a.createElement("button",{onClick:function(){return r(e)}},"delete"))}));if(t.filter((function(e){return e.name.toLowerCase().includes(n)}))){var o=t.filter((function(e){return e.name.toLowerCase().includes(n)}));return console.log(o),console.log(t),o.map((function(e){return l.a.createElement("li",{key:e.name},e.name," ",e.number," ",l.a.createElement("button",{onClick:function(){return r(e)}},"delete")," ")}))}},E={color:"Black",border:" solid 2px green",padding:"10px",fontFamily:"Arial"},v=function(e){var t=e.message;return null===t?null:l.a.createElement("div",{style:E},t)},h={color:"Black",border:" solid 2px red",padding:"10px",fontFamily:"Arial"},w=function(e){var t=e.message;return null===t?null:l.a.createElement("div",{style:h},t)},N=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],o=t[1],u=Object(r.useState)(""),i=Object(a.a)(u,2),s=i[0],m=i[1],d=Object(r.useState)(""),p=Object(a.a)(d,2),E=p[0],h=p[1],N=Object(r.useState)(""),O=Object(a.a)(N,2),j=O[0],k=O[1],y=Object(r.useState)(null),S=Object(a.a)(y,2),C=S[0],F=S[1],x=Object(r.useState)(null),P=Object(a.a)(x,2),A=P[0],B=P[1];return Object(r.useEffect)((function(){console.log("effect"),f().then((function(e){o(e)}))}),[]),l.a.createElement("div",null,l.a.createElement(v,{message:C}),l.a.createElement(w,{message:A}),l.a.createElement("h2",null,"Phonebook"),l.a.createElement(c,{value:j,setNewFilter:k}),l.a.createElement("h2",null,"Add new"),l.a.createElement(b,{newName:s,setNewName:m,newNumber:E,setNewNumber:h,people:n,setPeople:o,notificationMessage:C,setMessage:F,setError:B}),l.a.createElement("h2",null,"Numbers"),l.a.createElement(g,{newFilter:j,people:n,setPeople:o}))};u.a.render(l.a.createElement(N,null),document.getElementById("root"));t.default=N}},[[14,1,2]]]);
//# sourceMappingURL=main.77f2d675.chunk.js.map